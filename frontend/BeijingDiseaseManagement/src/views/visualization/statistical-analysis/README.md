# 统计分析模块

## 相关分析 (Correlation Analysis)

### 功能概述

相关分析模块用于衡量两个变量之间的相关程度，支持多种数据类型和分析方法。

### 主要功能

#### 1. 数据类型支持

- **连续变量**: 适用于正态分布数据
- **等级变量**: 适用于非正态分布或有序数据
- **分类变量**: 适用于分类数据

#### 2. 分析方法

- **Pearson 相关**: 适用于连续变量，要求正态分布
- **Spearman 秩相关**: 适用于非正态分布或等级变量
- **卡方检验**: 适用于分类变量的相关性分析

#### 3. 数据输入

- 支持选择两个不同的变量进行分析
- 可配置样本数量（10-1000）
- 数据质量选项（排除缺失值、异常值、正态性检验）

#### 4. 可视化功能

- **散点图**: 直观显示两个变量之间的关系
- **数据概览**: 显示样本数、均值、数据完整性等统计信息

#### 5. 分析结果

- 相关系数及 P 值
- 置信区间
- 效应量
- 相关性强度评估
- 统计显著性判断
- 正态性检验结果

### 使用流程

1. **选择变量**: 从下拉菜单中选择要分析的两个变量
2. **确定数据类型**: 选择变量的数据类型（连续/等级/分类）
3. **选择分析方法**: 系统会根据数据类型自动推荐合适的分析方法
4. **配置参数**: 设置样本数量和数据质量选项
5. **生成数据**: 点击"生成数据"按钮生成模拟数据
6. **开始分析**: 点击"开始分析"按钮进行统计分析
7. **查看结果**: 查看分析结果、散点图和统计报告

### 技术特点

- **响应式设计**: 适配不同屏幕尺寸
- **实时计算**: 动态计算相关系数和统计指标
- **交互式图表**: 基于 ECharts 的可视化展示
- **多语言支持**: 支持中英文界面切换
- **数据验证**: 防止选择相同变量进行分析

### 文件结构

```
correlation-analysis.vue
├── 模板部分 (Template)
│   ├── 数据配置区域
│   ├── 数据概览区域
│   ├── 散点图区域
│   ├── 分析结果区域
│   └── 正态性检验区域
├── 脚本部分 (Script)
│   ├── 响应式数据定义
│   ├── 数据生成逻辑
│   ├── 统计分析算法
│   ├── 图表更新逻辑
│   └── 事件处理函数
└── 样式部分 (Style)
    └── 组件样式定义
```

### 路由配置

相关分析模块已添加到统计分析路由中：

- 路径: `/statistical-analysis/correlation-analysis`
- 名称: `CorrelationAnalysis`
- 权限: 所有用户可访问

### 国际化支持

- 中文: `menu.statisticalAnalysis.correlationAnalysis`: '相关分析'
- 英文: `menu.statisticalAnalysis.correlationAnalysis`: 'Correlation Analysis'

## 回归分析 (Regression Analysis)

### 功能概述

回归分析模块用于预测和判断因变量与自变量之间的关系，支持三种主要回归类型。

### 主要功能

#### 1. 回归类型支持

- **线性回归**: 适用于连续因变量，预测血糖水平与体重、年龄的关系
- **Logistic 回归**: 适用于分类因变量，预测发病风险（有/无）
- **Cox 回归**: 适用于时间事件数据，生存时间分析，如生存率、死亡风险预测

#### 2. 数据配置

- 支持选择回归类型（线性/Logistic/Cox）
- 支持选择因变量和多个自变量
- 可配置样本数量（50-1000）
- 数据质量选项（排除缺失值、异常值、正态性检验）
- 模型评估选项（R²、调整 R²、AIC、BIC）

#### 3. 可视化功能

- **线性回归**: 散点图 + 回归线
- **Logistic 回归**: ROC 曲线
- **Cox 回归**: 生存曲线

#### 4. 分析结果

- 模型显著性检验
- 拟合优度评估
- 预测能力分析
- 回归系数表
- 模型解释

### 使用流程

1. **选择回归类型**: 根据因变量类型选择线性、Logistic 或 Cox 回归
2. **配置变量**: 选择因变量和自变量
3. **设置参数**: 配置样本数量、数据质量和模型评估选项
4. **数据查询**: 点击"数据查询"按钮获取数据
5. **开始分析**: 点击"开始分析"按钮进行回归分析
6. **查看结果**: 查看图表、分析结果和系数表

### 技术特点

- **多种回归类型**: 支持线性、Logistic、Cox 三种回归
- **智能图表**: 根据回归类型自动生成相应的可视化图表
- **完整结果**: 提供模型评估、系数表、显著性检验等完整结果
- **交互式界面**: 支持变量选择和参数配置
- **实时更新**: 根据选择自动更新图表和结果

### 路由配置

回归分析模块已添加到统计分析路由中：

- 路径: `/statistical-analysis/regression-analysis`
- 名称: `RegressionAnalysis`
- 权限: 所有用户可访问

### 国际化支持

- 中文: `menu.statisticalAnalysis.regressionAnalysis`: '回归分析'
- 英文: `menu.statisticalAnalysis.regressionAnalysis`: 'Regression Analysis'
